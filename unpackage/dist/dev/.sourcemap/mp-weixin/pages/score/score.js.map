{"version":3,"sources":["uni-app:///main.js","webpack:///D:/Project/HBuilderProjects/繁星/pages/score/score.vue?c767","webpack:///D:/Project/HBuilderProjects/繁星/pages/score/score.vue?e686","webpack:///D:/Project/HBuilderProjects/繁星/pages/score/score.vue?ed97","webpack:///D:/Project/HBuilderProjects/繁星/pages/score/score.vue?7743","uni-app:///pages/score/score.vue","webpack:///D:/Project/HBuilderProjects/繁星/pages/score/score.vue?b6fd"],"names":["createPage","Page","renderjs","component","options","__file","components","uniDataCheckbox","uniPopup","wLoading","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;wEAAA,qBACA,sBACA,yC,mDACAA,EAAWC,a;;;;2DCHX,qQACIC,EADJ,iHASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,wBACZ,aAAAF,E;;;;2GCvBf,izB;;;;2GCAA,8LAAIG,EAAa,CACfC,gBAAiB,WACf,OAAO,4OAITC,SAAU,WACR,OAAO,4LAITC,SAAU,WACR,OAAO,yJAKPC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G;;;;2DCxBvB,qeAAqwB,eAAG,G;;;;qgECkExwB,e,EACA,CACA,KADA,WAEA,OACA,6BACA,UACA,kDACA,gCACA,qBACA,YACA,iBACA,eACA,cACA,0DAMA,cACA,mFAMA,wBACA,yBAEA,UACA,YACA,QACA,QACA,WACA,CACA,QACA,aACA,CACA,QACA,WAEA,CACA,QACA,YAGA,kBAGA,UACA,aADA,WAEA,oCAEA,QAJA,WAMA,OADA,6BACA,kBACA,oEAEA,uEAGA,OA5DA,WA6DA,sCAEA,SACA,YADA,SACA,cACA,0BACA,oCACA,MAIA,kDACA,4CACA,eACA,wBACA,6BACA,UAEA,WAEA,YACA,0CACA,QAEA,IACA,WACA,aACA,MACA,OACA,oBACA,eACA,IACA,EADA,SACA,cACA,sBACA,iDACA,cACA,gBACA,mBAEA,sDAEA,oBACA,wBAEA,yBAEA,iBACA,wBACA,kBACA,0BAGA,SACA,eACA,2BACA,qBACA,gCAhDA,4BAmDA,gBAxDA,SAwDA,GACA,mBACA,qBAGA,cACA,0BAEA,YAhEA,WAiEA,0BAEA,iBAnEA,SAmEA,GACA,qBACA,uBACA,eACA,gBACA,2CACA,cACA,mBACA,8BAGA,aA9EA,SA8EA,KACA,IADA,EACA,UADA,IAEA,GAFA,IAEA,0CACA,mBACA,qBAEA,2BANA,8BAQA,SACA,wEACA,uBAEA,wBAEA,2BAEA,IAhBA,EAgBA,IACA,IACA,IAEA,IACA,IACA,IAEA,IAxBA,IAyBA,GAzBA,IAyBA,6DACA,IACA,IACA,IACA,uBACA,SACA,gBACA,6BAEA,gBACA,6BAEA,gCACA,6BAEA,iBACA,6BAEA,iBACA,6BAEA,IACA,0BACA,yBACA,2BAEA,SACA,eANA,QAQA,6BAIA,KACA,KAEA,oCACA,IACA,KACA,MAEA,MACA,oDACA,QACA,IACA,MACA,oBACA,uBADA,mBACA,aADA,QAEA,IACA,MA1EA,8BAmFA,OANA,MACA,WACA,KAEA,sCACA,eACA,GAEA,WAnKA,SAmKA,GACA,qBACA,UACA,OACA,0BACA,eACA,MACA,OACA,4BACA,eACA,MACA,OACA,0BACA,eACA,MACA,OACA,0BACA,eACA,QAGA,oBAxLA,SAwLA,GACA,SACA,sBAFA,UAGA,gBAHA,IAGA,0CACA,2BAJA,8BAMA,mB;;;;2DChUA,0qBAAmlC,eAAG,G","file":"pages/score/score.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/score/score.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./score.vue?vue&type=template&id=2fa9cb28&\"\nvar renderjs\nimport script from \"./score.vue?vue&type=script&lang=js&\"\nexport * from \"./score.vue?vue&type=script&lang=js&\"\nimport style0 from \"./score.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\Users\\\\dreamfever\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/score/score.vue\"\nexport default component.exports","export * from \"-!C:\\\\Users\\\\dreamfever\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!C:\\\\Users\\\\dreamfever\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!C:\\\\Users\\\\dreamfever\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!C:\\\\Users\\\\dreamfever\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!C:\\\\Users\\\\dreamfever\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\dreamfever\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./score.vue?vue&type=template&id=2fa9cb28&\"","var components = {\n  uniDataCheckbox: function() {\n    return import(\n      /* webpackChunkName: \"components/uni-data-checkbox/uni-data-checkbox\" */ \"@/components/uni-data-checkbox/uni-data-checkbox.vue\"\n    )\n  },\n  uniPopup: function() {\n    return import(\n      /* webpackChunkName: \"components/uni-popup/uni-popup\" */ \"@/components/uni-popup/uni-popup.vue\"\n    )\n  },\n  wLoading: function() {\n    return import(\n      /* webpackChunkName: \"components/w-loading/w-loading\" */ \"@/components/w-loading/w-loading.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!C:\\\\Users\\\\dreamfever\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\dreamfever\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\dreamfever\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\dreamfever\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\dreamfever\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./score.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\Users\\\\dreamfever\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\dreamfever\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\dreamfever\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\dreamfever\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\dreamfever\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./score.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view class=\"header\">\r\n\t\t\t<picker @change=\"bindPickerChange\" :value=\"semester\" :range=\"semesterList\">\r\n\t\t\t\t<view class=\"current-semester\">学期 {{semester}}</view>\r\n\t\t\t</picker>\r\n\t\t\t<button class=\"query-button\" @click=\"handleQuery\" type=\"primary\">查询</button>\r\n\t\t</view>\r\n\t\t<view v-if=\"scoreData.length>0\" class=\"gpa-view\">\r\n\t\t\t<view class=\"gpa-info\">\r\n\t\t\t\t<view v-for=\"gpa in gpaInfo\" :key=\"gpa\">\r\n\t\t\t\t\t<text>{{gpa}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"gpa-mode\">\r\n\t\t\t\t<uni-data-checkbox v-model=\"funcIndex\" :localdata=\"range\" @change=\"modeChange\"></uni-data-checkbox>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"score-view\">\r\n\t\t\t<checkbox-group @change=\"checkboxGroupChange\">\r\n\t\t\t\t<view v-for=\"(score,index) in scoreData\" :key=\"score.no\" class=\"score-wrap\" @click=\"handleDetailTap(score)\">\r\n\t\t\t\t\t<block>\r\n\t\t\t\t\t\t<view class=\"item\">\r\n\t\t\t\t\t\t\t{{index+1}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"item\">\r\n\t\t\t\t\t\t\t{{score.name}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"item\">\r\n\t\t\t\t\t\t\t{{score.score}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-if=\"manual\" class=\"item\">\r\n\t\t\t\t\t\t\t<checkbox :value=\"index\"></checkbox>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</block>\r\n\t\t\t\t</view>\r\n\t\t\t</checkbox-group>\r\n\t\t</view>\r\n\t\t<uni-popup ref=\"popup\">\r\n\t\t\t<scroll-view scroll-y=\"true\" class=\"dialog\">\r\n\t\t\t\t<text>详情\\n</text>\r\n\t\t\t\t<text>课程号 {{detail.scoreNo}}\\n</text>\r\n\t\t\t\t<text>课程名称 {{detail.name}}\\n</text>\r\n\t\t\t\t<text>开课学期 {{detail.semester}}\\n</text>\r\n\t\t\t\t<text>成绩 {{detail.score}}\\n</text>\r\n\t\t\t\t<text>学分 {{detail.credit}}\\n</text>\r\n\t\t\t\t<text>总学时 {{detail.period}}\\n</text>\r\n\t\t\t\t<text>考核方式 {{detail.evaluationMode}}\\n</text>\r\n\t\t\t\t<text>课程属性 {{detail.courseProperty}}\\n</text>\r\n\t\t\t\t<text>课程性质 {{detail.courseNature}}\\n</text>\r\n\t\t\t\t<text>替代课程号 {{detail.alternativeCourseNumber}}\\n</text>\r\n\t\t\t\t<text>替代课程名 {{detail.alternativeCourseName}}\\n</text>\r\n\t\t\t\t<text>成绩标志 {{detail.scoreFlag}}\\n</text>\r\n\t\t\t\t<button type=\"primary\" class=\"dialog-button\" @click=\"closeDialog\">确定</button>\r\n\t\t\t</scroll-view>\r\n\t\t</uni-popup>\r\n\t\t<w-loading click=\"false\" ref=\"loading\"></w-loading>\r\n\t\t<uni-popup ref=\"message\" type=\"top\">\r\n\t\t\t<view class=\"message\">\r\n\t\t\t\t{{message}}\r\n\t\t\t</view>\r\n\t\t</uni-popup>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\tconst app = getApp()\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tscoreData: app.globalData.score,\r\n\t\t\t\tdetail: {},\r\n\t\t\t\tsemester: app.globalData.settings.scoreQuerySemester,\r\n\t\t\t\tyears: app.globalData.course.years,\r\n\t\t\t\tcalculateMode: \"必修绩点\",\r\n\t\t\t\tselected: [],\r\n\t\t\t\tselectedIndex: [],\r\n\t\t\t\tcalculateFunc: {\r\n\t\t\t\t\t0: (score) => {\r\n\t\t\t\t\t\tif (score.name.indexOf(\"体育\") === -1 && score.courseProperty === \"必修\") {\r\n\t\t\t\t\t\t\treturn true\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t1: (score) => {\r\n\t\t\t\t\t\tif (score.name.indexOf(\"体育\") === -1 && score.courseProperty === \"必修\" || score.courseProperty === \"任选\") {\r\n\t\t\t\t\t\t\treturn true\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t2: (score) => true,\r\n\t\t\t\t\t3: (score) => true,\r\n\t\t\t\t},\r\n\t\t\t\tmanual: false,\r\n\t\t\t\tfuncIndex: 0,\r\n\t\t\t\trange: [{\r\n\t\t\t\t\t\t\"value\": 0,\r\n\t\t\t\t\t\t\"text\": \"必修\"\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\"value\": 1,\r\n\t\t\t\t\t\t\"text\": \"必修任选\"\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\"value\": 2,\r\n\t\t\t\t\t\t\"text\": \"全部\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"value\": 3,\r\n\t\t\t\t\t\t\"text\": \"自选\",\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tmessage: \"发生了错误\",\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tsemesterList() {\r\n\t\t\t\treturn [\"全部\", ...this.years]\r\n\t\t\t},\r\n\t\t\tgpaInfo() {\r\n\t\t\t\tconsole.log(\"calculate gpa\")\r\n\t\t\t\tif (this.funcIndex == 3) {\r\n\t\t\t\t\treturn this.calculateGpa(this.calculateFunc[this.funcIndex], this.selected)\r\n\t\t\t\t}\r\n\t\t\t\treturn this.calculateGpa(this.calculateFunc[this.funcIndex], this.scoreData)\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.years = app.globalData.course.years\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\thandleQuery(e) {\r\n\t\t\t\tthis.$refs.loading.open()\r\n\t\t\t\tconst loginData = uni.getStorageSync(\"login_key\")\r\n\t\t\t\tif (!loginData) {\r\n\t\t\t\t\tthis.$refs.loading.close()\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tloginData.xsfs = app.globalData.settings.maxScore ? \"MAX\" : \"ALL\"\r\n\t\t\t\tloginData.kksj = this.semester == \"全部\" ? \"\" : this.semester\r\n\t\t\t\tconsole.log(loginData)\r\n\t\t\t\tlet url = app.globalData.host\r\n\t\t\t\tif (app.globalData.settings.useVPN) {\r\n\t\t\t\t\turl += \"/vpn\"\r\n\t\t\t\t} else {\r\n\t\t\t\t\turl += \"/just\"\r\n\t\t\t\t}\r\n\t\t\t\turl += \"/score\"\r\n\t\t\t\tif (!app.globalData.settings.defaultScoreQuery) {\r\n\t\t\t\t\turl += \"2\"\r\n\t\t\t\t}\r\n\t\t\t\ttry {\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\tmethod: \"GET\",\r\n\t\t\t\t\t\turl: url,\r\n\t\t\t\t\t\tdata: loginData,\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\tlet response = res.data\r\n\t\t\t\t\t\t\tif (response.code === 200) {\r\n\t\t\t\t\t\t\t\tthis.scoreData.length = 0\r\n\t\t\t\t\t\t\t\tthis.scoreData.push(...response.data.reverse())\r\n\t\t\t\t\t\t\t\tuni.setStorage({\r\n\t\t\t\t\t\t\t\t\tkey: \"score_key\",\r\n\t\t\t\t\t\t\t\t\tdata: this.scoreData\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tthis.calculateGpa((score) => true, this.scoreData)\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.message = response.message\r\n\t\t\t\t\t\t\t\tthis.$refs.message.open()\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.$refs.loading.close()\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: (res) => {\r\n\t\t\t\t\t\t\tthis.$refs.loading.close()\r\n\t\t\t\t\t\t\tthis.message = \"发生了错误\"\r\n\t\t\t\t\t\t\tthis.$refs.message.open()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.log(e)\r\n\t\t\t\t\tthis.$refs.loading.close()\r\n\t\t\t\t\tthis.message = \"发生了错误\"\r\n\t\t\t\t\tthis.$refs.message.open()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\thandleDetailTap(score) {\r\n\t\t\t\tconsole.log('tap')\r\n\t\t\t\tif (this.funcIndex === 3) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.detail = score\r\n\t\t\t\tthis.$refs.popup.open()\r\n\t\t\t},\r\n\t\t\tcloseDialog() {\r\n\t\t\t\tthis.$refs.popup.close()\r\n\t\t\t},\r\n\t\t\tbindPickerChange(e) {\r\n\t\t\t\tlet index = e.detail.value\r\n\t\t\t\tlet selectedSemester = this.semesterList[index]\r\n\t\t\t\tconsole.log(selectedSemester)\r\n\t\t\t\tthis.semester = selectedSemester\r\n\t\t\t\tapp.globalData.settings.scoreQuerySemester = selectedSemester\r\n\t\t\t\tuni.setStorage({\r\n\t\t\t\t\tkey: \"settings_key\",\r\n\t\t\t\t\tdata: app.globalData.settings,\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tcalculateGpa(predicate, scoreList) {\r\n\t\t\t\tlet semesters = new Map()\r\n\t\t\t\tfor (let score of scoreList) {\r\n\t\t\t\t\tif (!semesters.has(score.semester)) {\r\n\t\t\t\t\t\tsemesters.set(score.semester, [])\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsemesters.get(score.semester).push(score)\r\n\t\t\t\t}\r\n\t\t\t\tlet result = []\r\n\t\t\t\tif (app.globalData.settings.maxScore && app.globalData.settings.defaultScoreQuery) {\r\n\t\t\t\t\tresult.push(\"最好成绩(绩点可作参考)\")\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult.push(\"非最好成绩(绩点不作参考)\")\r\n\t\t\t\t}\r\n\t\t\t\tresult.push(this.calculateMode)\r\n\t\t\t\t// console.log(semesters)\r\n\t\t\t\tlet totalGPA = 0.0\r\n\t\t\t\tlet totalUp = 0.0\r\n\t\t\t\tlet totalDown = 0.0\r\n\r\n\t\t\t\tlet yearGPA = 0.0\r\n\t\t\t\tlet yearUp = 0.0\r\n\t\t\t\tlet yearDown = 0.0\r\n\r\n\t\t\t\tlet toggleYear = 0\r\n\t\t\t\tfor (let [semester, scoreList] of semesters) {\r\n\t\t\t\t\tlet up = 0.0\r\n\t\t\t\t\tlet down = 0.0\r\n\t\t\t\t\tlet gpa = 0.0\r\n\t\t\t\t\tscoreList.forEach((score) => {\r\n\t\t\t\t\t\tif (predicate(score)) {\r\n\t\t\t\t\t\t\tif (score.score === \"优\") {\r\n\t\t\t\t\t\t\t\tup += parseFloat(score.credit) * (95 / 10 - 5)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (score.score === \"良\") {\r\n\t\t\t\t\t\t\t\tup += parseFloat(score.credit) * (85 / 10 - 5);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (score.score === \"中\" || score.score === \"合格\") {\r\n\t\t\t\t\t\t\t\tup += parseFloat(score.credit) * (75 / 10 - 5);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (score.score === \"及格\") {\r\n\t\t\t\t\t\t\t\tup += parseFloat(score.credit) * (65 / 10 - 5);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (score.score === \"通过\") {\r\n\t\t\t\t\t\t\t\tup += parseFloat(score.credit) * (75 / 10 - 5);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tif (parseFloat(score.score) >= 60) {\r\n\t\t\t\t\t\t\t\t\tup += parseFloat(score.credit) *\r\n\t\t\t\t\t\t\t\t\t\t(parseFloat(score.score) / 10 - 5);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\t\tconsole.log(e)\r\n\t\t\t\t\t\t\t} finally {\r\n\t\t\t\t\t\t\t\tdown += parseFloat(score.credit);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\ttotalUp += up\r\n\t\t\t\t\ttotalDown += down\r\n\r\n\t\t\t\t\tif (semesters.has(semester.substr(0, semester.length - 1) + \"2\")) {\r\n\t\t\t\t\t\ttoggleYear++\r\n\t\t\t\t\t\tyearUp += up\r\n\t\t\t\t\t\tyearDown += down\r\n\t\t\t\t\t}\r\n\t\t\t\t\tgpa = up / down;\r\n\t\t\t\t\tresult.push(`${semester}学期平均绩点：${gpa.toFixed(3)}`);\r\n\t\t\t\t\tif (toggleYear === 2) {\r\n\t\t\t\t\t\ttoggleYear = 0;\r\n\t\t\t\t\t\tyearGPA = yearUp / yearDown;\r\n\t\t\t\t\t\tresult.push(\r\n\t\t\t\t\t\t\t`---${semester.substr(0, semester.length - 2)}学年平均绩点: ${yearGPA.toFixed(3)}---`);\r\n\t\t\t\t\t\tyearUp = 0;\r\n\t\t\t\t\t\tyearDown = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\ttotalGPA = totalUp / totalDown;\r\n\t\t\t\tif (isNaN(totalGPA)) {\r\n\t\t\t\t\ttotalGPA = 0;\r\n\t\t\t\t}\r\n\t\t\t\tresult.push(`总平均绩点：${totalGPA.toFixed(3)}`);\r\n\t\t\t\tconsole.log(result)\r\n\t\t\t\treturn result\r\n\t\t\t},\r\n\t\t\tmodeChange(e) {\r\n\t\t\t\tlet index = e.detail.value\r\n\t\t\t\tswitch (index) {\r\n\t\t\t\t\tcase 0:\r\n\t\t\t\t\t\tthis.calculateMode = \"必修绩点\"\r\n\t\t\t\t\t\tthis.manual = false\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\tthis.calculateMode = \"必修任选绩点\"\r\n\t\t\t\t\t\tthis.manual = false\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\tthis.calculateMode = \"全部绩点\"\r\n\t\t\t\t\t\tthis.manual = false\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 3:\r\n\t\t\t\t\t\tthis.calculateMode = \"自选绩点\"\r\n\t\t\t\t\t\tthis.manual = true\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcheckboxGroupChange(e) {\r\n\t\t\t\tlet result = []\r\n\t\t\t\tconsole.log(e.detail)\r\n\t\t\t\tfor (let i of e.detail.value) {\r\n\t\t\t\t\tresult.push(this.scoreData[i])\r\n\t\t\t\t}\r\n\t\t\t\tthis.selected = result\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.query-button {\r\n\t\tmargin: 20rpx;\r\n\t\tfont-size: .9em;\r\n\t}\r\n\r\n\t.score-wrap {\r\n\t\tdisplay: flex;\r\n\t\ttext-align: center;\r\n\t\tpadding: 4px;\r\n\t\tmargin: 10px;\r\n\t\tborder: 1px solid #dddd;\r\n\t\tborder-radius: 10px;\r\n\t\tbox-shadow: 1px 1px 5px #888888;\r\n\t}\r\n\r\n\t.score-wrap .item {\r\n\t\tflex: 1;\r\n\t\talign-self: center;\r\n\t\tfont-size: .8em;\r\n\t\tline-height: 1.5em\r\n\t}\r\n\r\n\t.dialog {\r\n\t\tbackground-color: #fafafa;\r\n\t\twidth: 500rpx;\r\n\t\t/* height: 500rpx; */\r\n\t\tborder-radius: 20rpx;\r\n\t\tpadding: 20rpx;\r\n\t\tfont-size: 80%;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.dialog-button {\r\n\t\tmargin: 20rpx;\r\n\t\t/* position: absolute; */\r\n\t\t/* bottom: -110rpx; */\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t}\r\n\r\n\t.current-semester {\r\n\t\tborder: #333333;\r\n\t\tborder-radius: 20rpx;\r\n\t\t/* font-size: .9em; */\r\n\t\tmargin: 20rpx;\r\n\t\tmargin-top: 40rpx;\r\n\t\tmargin-bottom: 40rpx;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.gpa-info {\r\n\t\ttext-align: center;\r\n\t\tfont-size: .8em;\r\n\t\tborder: #2C405A;\r\n\t\tborder-radius: 20rpx;\r\n\t\tbox-shadow: 1px 1px 5px #888888;\r\n\t\tmargin: 20rpx;\r\n\t\tpadding: 20rpx;\r\n\t}\r\n\r\n\t.gpa-mode {\r\n\t\tmargin: 20rpx;\r\n\t\tpadding: 20rpx;\r\n\t}\r\n\r\n\t.manual-button {\r\n\t\tmargin: 20rpx;\r\n\t}\r\n</style>\n","import mod from \"-!C:\\\\Users\\\\dreamfever\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!C:\\\\Users\\\\dreamfever\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!C:\\\\Users\\\\dreamfever\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\dreamfever\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!C:\\\\Users\\\\dreamfever\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!C:\\\\Users\\\\dreamfever\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\dreamfever\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./score.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!C:\\\\Users\\\\dreamfever\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!C:\\\\Users\\\\dreamfever\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!C:\\\\Users\\\\dreamfever\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\dreamfever\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!C:\\\\Users\\\\dreamfever\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!C:\\\\Users\\\\dreamfever\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\dreamfever\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./score.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}